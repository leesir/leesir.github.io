I"Vª<link rel="stylesheet" href="/css/pygments.css" />

<p>Â  Â  Â  Â Javaä¸­æœ‰5ç§å†…éƒ¨ç±»ï¼Œå…¬æœ‰é™æ€å†…éƒ¨ç±»ï¼Œç§æœ‰é™æ€å†…éƒ¨ç±»ï¼Œå…¬æœ‰å†…éƒ¨ç±»ï¼Œç§æœ‰å†…éƒ¨ç±»ï¼ŒåŒ¿åå†…éƒ¨ç±»ã€‚è¿™é‡Œæˆ‘ä»¬ä¸è°ˆå„ç§å†…éƒ¨ç±»çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸å¯¹æ¯”ä¼˜åŠ£ï¼Œä»…ä»è¯­æ³•ç³–çš„è§’åº¦å­¦ä¹ Javaæ˜¯æ€ä¹ˆå®ç°å†…éƒ¨ç±»çš„ã€‚</p>

<h2 id="1é™æ€å†…éƒ¨ç±»">1.é™æ€å†…éƒ¨ç±»</h2>

<p>Â  Â  Â  Â é™æ€å†…éƒ¨ç±»çš„åˆå§‹åŒ–ï¼Œä¸ä¾èµ–äºå¤–éƒ¨ç±»çš„å®ä¾‹ï¼Œå¹¶ä¸”ä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹å˜é‡ï¼Œä¸èƒ½è°ƒç”¨å¤–éƒ¨ç±»çš„å®ä¾‹æ–¹æ³•ã€‚</p>

<h4 id="å…¬æœ‰é™æ€å†…éƒ¨ç±»">å…¬æœ‰é™æ€å†…éƒ¨ç±»</h4>

<p>Â  Â  Â  Â æµ‹è¯•ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> 
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestPubStaticInnerClass</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">priStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">pubStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">priFOut</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">pubFOut</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PubStaticInnerClass</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="nf">fPubStaticInnerClass</span><span class="o">()</span> <span class="o">{</span>
            <span class="n">priFOut</span><span class="o">();</span>
            <span class="n">pubFOut</span><span class="o">();</span>
            <span class="k">return</span> <span class="n">priStaticValue</span> <span class="o">+</span> <span class="n">pubStaticValue</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">PubStaticInnerClass</span> <span class="n">pubStaticInnerClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PubStaticInnerClass</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<!-- more -->

<p>Â  Â  Â  Â è¿è¡Œå‘½ä»¤ï¼š</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> 
<span class="c1">//æ³¨æ„å‚æ•°--removeinnerclasssynthetics falseï¼Œå¦åˆ™åç¼–è¯‘åçš„ä»£ç ä¼šé‡æ–°ç³–åŒ–</span>
<span class="n">java</span> <span class="o">-</span><span class="n">jar</span> <span class="n">cfr</span><span class="o">-</span><span class="mf">0.145</span><span class="o">.</span><span class="na">jar</span> <span class="nc">TestPubStaticInnerClass</span><span class="o">.</span><span class="na">class</span> <span class="o">--</span><span class="n">removeinnerclasssynthetics</span> <span class="kc">false</span></code></pre></figure>

<p>Â  Â  Â  Â å°†å¾—åˆ°å¦‚ä¸‹ä»£ç ï¼š</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> 
<span class="cm">/*
 * Decompiled with CFR 0.145.
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestPubStaticInnerClass</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">priStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">pubStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">priFOut</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">pubFOut</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">PubStaticInnerClass</span> <span class="n">pubStaticInnerClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PubStaticInnerClass</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="cm">/* synthetic */</span> <span class="kt">void</span> <span class="n">access</span><span class="err">$</span><span class="mo">000</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">TestPubStaticInnerClass</span><span class="o">.</span><span class="na">priFOut</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="cm">/* synthetic */</span> <span class="kt">int</span> <span class="n">access</span><span class="err">$</span><span class="mi">100</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">priStaticValue</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PubStaticInnerClass</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="nf">fPubStaticInnerClass</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">TestPubStaticInnerClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mo">000</span><span class="o">();</span>
            <span class="nc">TestPubStaticInnerClass</span><span class="o">.</span><span class="na">pubFOut</span><span class="o">();</span>
            <span class="k">return</span> <span class="nc">TestPubStaticInnerClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mi">100</span><span class="o">()</span> <span class="o">+</span> <span class="n">pubStaticValue</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre></figure>

<p>Â  Â  Â  Â å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå¤–éƒ¨ç±»çš„å…¬æœ‰é™æ€å±æ€§æˆ–æ–¹æ³•ï¼Œå†…éƒ¨ç±»å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚å¯¹äºç§æœ‰é™æ€å±æ€§æˆ–è€…æ–¹æ³•ï¼Œç¼–è¯‘å™¨å°†ä¼šä¸ºå…¶ç”Ÿæˆä¸€ä¸ªåŒ…çº§å¯è§åŸŸçš„é™æ€æ–¹æ³•ï¼Œå¦‚access$000å’Œaccess$100ï¼Œä¾›å†…éƒ¨ç±»è°ƒç”¨ã€‚</p>

<h4 id="ç§æœ‰é™æ€å†…éƒ¨ç±»">ç§æœ‰é™æ€å†…éƒ¨ç±»</h4>

<p>Â  Â  Â  Â æµ‹è¯•ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> 
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestPriStaticInnerClass</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">priStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">pubStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">priFOut</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">pubFOut</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PriStaticInnerClass</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="kt">int</span> <span class="nf">fPubStaticInnerClass</span><span class="o">()</span> <span class="o">{</span>
            <span class="n">priFOut</span><span class="o">();</span>
            <span class="n">pubFOut</span><span class="o">();</span>
            <span class="k">return</span> <span class="n">priStaticValue</span> <span class="o">+</span> <span class="n">pubStaticValue</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">PriStaticInnerClass</span> <span class="n">priStaticInnerClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PriStaticInnerClass</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Â  Â  Â  Â ç§æœ‰é™æ€å†…éƒ¨ç±»åœ¨è®¿é—®å¤–éƒ¨ç±»çš„é™æ€å±æ€§æˆ–æ–¹æ³•çš„é€»è¾‘ï¼Œä¸å…¬æœ‰é™æ€å†…éƒ¨ç±»çš„é€»è¾‘æ˜¯ä¸€è‡´çš„ï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºç¼–è¯‘å™¨å¯¹æ„é€ å‡½æ•°çš„å¤„ç†ã€‚
ç§æœ‰é™æ€å†…éƒ¨ç±»çš„é»˜è®¤æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œç¼–è¯‘å™¨ä¸ºæ­¤é¢å¤–ç”Ÿæˆäº†ä¸€ä¸ªæ— é€»è¾‘å†…éƒ¨ç±»TestPriStaticInnerClass$1.classå’Œä¸€ä¸ªä»¥æ­¤ç±»ä¸ºå‚æ•°çš„åŒ…çº§å¯è§åŸŸçš„æ„é€ å‡½æ•°ï¼Œ
é€šè¿‡ä¼ å…¥nullè°ƒç”¨æ–°ç”Ÿæˆçš„å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ã€‚åç¼–è¯‘åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/*
 * Decompiled with CFR 0.145.
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestPriStaticInnerClass</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">priStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">pubStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">priFOut</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">pubFOut</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">PriStaticInnerClass</span> <span class="n">priStaticInnerClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PriStaticInnerClass</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="cm">/* synthetic */</span> <span class="kt">void</span> <span class="n">access</span><span class="err">$</span><span class="mo">000</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">TestPriStaticInnerClass</span><span class="o">.</span><span class="na">priFOut</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="cm">/* synthetic */</span> <span class="kt">int</span> <span class="n">access</span><span class="err">$</span><span class="mi">100</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">priStaticValue</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PriStaticInnerClass</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="nf">PriStaticInnerClass</span><span class="o">()</span> <span class="o">{</span>
        <span class="o">}</span>

        <span class="kd">private</span> <span class="kt">int</span> <span class="nf">fPubStaticInnerClass</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">TestPriStaticInnerClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mo">000</span><span class="o">();</span>
            <span class="nc">TestPriStaticInnerClass</span><span class="o">.</span><span class="na">pubFOut</span><span class="o">();</span>
            <span class="k">return</span> <span class="nc">TestPriStaticInnerClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mi">100</span><span class="o">()</span> <span class="o">+</span> <span class="n">pubStaticValue</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="cm">/* synthetic */</span> <span class="nc">PriStaticInnerClass</span><span class="o">(</span><span class="mi">1</span> <span class="n">x0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre></figure>

<h2 id="2éé™æ€å†…éƒ¨ç±»">2.éé™æ€å†…éƒ¨ç±»</h2>

<p>Â  Â  Â  Â éé™æ€å†…éƒ¨ç±»çš„åˆå§‹åŒ–ï¼Œä¾èµ–äºå¤–éƒ¨ç±»çš„å®ä¾‹ï¼Œä¼šç”¨ä¸€ä¸ªå®ä¾‹å˜é‡ä¿å­˜å¤–éƒ¨ç±»å®ä¾‹ã€‚å†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰å®ä¾‹å±æ€§ã€æ–¹æ³•åŠé™æ€å±æ€§ã€æ–¹æ³•ã€‚</p>

<h4 id="å…¬æœ‰å†…éƒ¨ç±»">å…¬æœ‰å†…éƒ¨ç±»</h4>

<p>Â  Â  Â  Â æµ‹è¯•ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestPubInnerClass</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">privateValue</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">privateStaticValue</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">publicValue</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">publicStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">outPubStaticF</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">outPriStaticF</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">outPubF</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">outPriF</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">PubInnerClass</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">f</span><span class="o">()</span> <span class="o">{</span>
            <span class="n">outPubStaticF</span><span class="o">();</span>
            <span class="n">outPriStaticF</span><span class="o">();</span>
            <span class="n">outPubF</span><span class="o">();</span>
            <span class="n">outPriF</span><span class="o">();</span>
            <span class="k">return</span> <span class="n">privateValue</span> <span class="o">+</span> <span class="n">privateStaticValue</span> <span class="o">+</span> <span class="n">publicValue</span> <span class="o">+</span> <span class="n">publicStaticValue</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">TestPubInnerClass</span> <span class="n">testPubInnerClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TestPubInnerClass</span><span class="o">();</span>
        <span class="nc">PubInnerClass</span> <span class="n">pubInnerClass</span> <span class="o">=</span> <span class="n">testPubInnerClass</span><span class="o">.</span><span class="na">new</span> <span class="nf">PubInnerClass</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Â  Â  Â  Â åç¼–è¯‘åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/*
 * Decompiled with CFR 0.145.
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestPubInnerClass</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">privateValue</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">privateStaticValue</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">publicValue</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">publicStaticValue</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">outPubStaticF</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">outPriStaticF</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">outPubF</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">outPriF</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">TestPubInnerClass</span> <span class="n">testPubInnerClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TestPubInnerClass</span><span class="o">();</span>
        <span class="nc">PubInnerClass</span> <span class="n">pubInnerClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PubInnerClass</span><span class="o">(</span><span class="n">testPubInnerClass</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="cm">/* synthetic */</span> <span class="kt">void</span> <span class="n">access</span><span class="err">$</span><span class="mo">000</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">TestPubInnerClass</span><span class="o">.</span><span class="na">outPriStaticF</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="cm">/* synthetic */</span> <span class="kt">void</span> <span class="n">access</span><span class="err">$</span><span class="mi">100</span><span class="o">(</span><span class="nc">TestPubInnerClass</span> <span class="n">x0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">x0</span><span class="o">.</span><span class="na">outPriF</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="cm">/* synthetic */</span> <span class="kt">int</span> <span class="n">access</span><span class="err">$</span><span class="mi">200</span><span class="o">(</span><span class="nc">TestPubInnerClass</span> <span class="n">x0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">x0</span><span class="o">.</span><span class="na">privateValue</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="cm">/* synthetic */</span> <span class="kt">int</span> <span class="n">access</span><span class="err">$</span><span class="mi">300</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">privateStaticValue</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">PubInnerClass</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="cm">/* synthetic */</span> <span class="nc">TestPubInnerClass</span> <span class="k">this</span><span class="err">$</span><span class="mi">0</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">PubInnerClass</span><span class="o">(</span><span class="nc">TestPubInnerClass</span> <span class="k">this</span><span class="err">$</span><span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">this</span><span class="err">$</span><span class="mi">0</span> <span class="o">=</span> <span class="k">this</span><span class="err">$</span><span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">f</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">TestPubInnerClass</span><span class="o">.</span><span class="na">outPubStaticF</span><span class="o">();</span>
            <span class="nc">TestPubInnerClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mo">000</span><span class="o">();</span>
            <span class="k">this</span><span class="o">.</span><span class="na">this</span><span class="err">$</span><span class="mi">0</span><span class="o">.</span><span class="na">outPubF</span><span class="o">();</span>
            <span class="nc">TestPubInnerClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mi">100</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">this</span><span class="err">$</span><span class="mi">0</span><span class="o">);</span>
            <span class="k">return</span> <span class="nc">TestPubInnerClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mi">200</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">this</span><span class="err">$</span><span class="mi">0</span><span class="o">)</span> <span class="o">+</span> <span class="nc">TestPubInnerClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mi">300</span><span class="o">()</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">this</span><span class="err">$</span><span class="mi">0</span><span class="o">.</span><span class="na">publicValue</span> <span class="o">+</span> <span class="n">publicStaticValue</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Â  Â  Â  Â å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºé™æ€å±æ€§å’Œæ–¹æ³•çš„å¤„ç†ï¼Œä¸é™æ€å†…éƒ¨ç±»çš„é€»è¾‘æ˜¯ä¸€è‡´çš„ã€‚
å¯¹äºå®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œç¼–è¯‘å™¨åŒæ ·ä¸ºå¤–éƒ¨ç±»æ·»åŠ äº†åŒ…çº§å¯è§åŸŸçš„é™æ€æ–¹æ³•access$100å’Œaccess$200ï¼Œå†…éƒ¨ç±»è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼šå°†å¤–éƒ¨ç±»å®ä¾‹ä¼ å‚ç»™æ–¹æ³•ï¼Œå®ç°é—´æ¥è°ƒç”¨ã€‚</p>

<h4 id="ç§æœ‰å†…éƒ¨ç±»">ç§æœ‰å†…éƒ¨ç±»</h4>

<p>Â  Â  Â  Â ç§æœ‰å†…éƒ¨ç±»åœ¨å±æ€§å’Œæ–¹æ³•ä¸Šä¸å…¬æœ‰å†…éƒ¨ç±»çš„å¤„ç†é€»è¾‘ä¸€è‡´ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç¼–è¯‘å™¨ä¼šé¢å¤–ä¸ºç§æœ‰å†…éƒ¨ç±»æ·»åŠ ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä¸ç§æœ‰é™æ€å†…éƒ¨ç±»çš„å¤„ç†é€»è¾‘ä¸€è‡´ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>

<h2 id="3åŒ¿åå†…éƒ¨ç±»">3.åŒ¿åå†…éƒ¨ç±»</h2>

<p>Â  Â  Â  Â åŒ¿åå†…éƒ¨ç±»çš„æƒ…å†µæ¯”ä¸Šè¿°å†…éƒ¨ç±»ç¨æœ‰ä¸åŒï¼Œä¸è¿‡ä¹Ÿæ˜¯æœ‰è¿¹å¯å¾ªã€‚åŒ¿åå†…éƒ¨ç±»ä¸åƒå†…éƒ¨ç±»ä¸€æ ·ï¼Œæœ‰å…¬æœ‰ç§æœ‰ä¸€è¯´ï¼Œåªæœ‰é™æ€æˆ–éé™æ€ã€æˆå‘˜æˆ–å±€éƒ¨ä¸€è¯´ã€‚
é™æ€åŒ¿åå†…éƒ¨ç±»åªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„é™æ€å±æ€§å’Œæ–¹æ³•ï¼Œéé™æ€åŒ¿åå†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä¸ä¸Šè¿°å†…éƒ¨ç±»é€»è¾‘ä¸€è‡´ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">//JDK 1.7ä»£ç </span>
<span class="kn">package</span> <span class="n">innerclass</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestAnonymousClass</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">publicValue</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">publicStaticValue</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">privateValue</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">privateStaticValue</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">Thread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">Runnable</span><span class="o">()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"thread"</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">privateValue</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">privateStaticValue</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">publicValue</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">publicStaticValue</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">});</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">Thread</span> <span class="n">staticThread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">Runnable</span><span class="o">()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"staticThread"</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">privateStaticValue</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">publicStaticValue</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">});</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="kt">int</span> <span class="n">localN</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="nc">Thread</span> <span class="n">localThread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">Runnable</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"localThread"</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">localN</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">privateStaticValue</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">publicStaticValue</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>


    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">outF</span><span class="o">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">arg1</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">InnerClass</span> <span class="n">innerClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InnerClass</span><span class="o">()</span> <span class="o">{</span>

            <span class="nd">@Override</span>
            <span class="kt">void</span> <span class="nf">innerF</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">arg1</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">privateValue</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">privateStaticValue</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">publicValue</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">publicStaticValue</span><span class="o">);</span>
                <span class="n">outF</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">};</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">outF</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">class</span> <span class="nc">InnerClass</span> <span class="o">{</span>
        <span class="kt">void</span> <span class="nf">innerF</span><span class="o">()</span> <span class="o">{</span>

        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Â  Â  Â  Â ä¸Šé¢å±•ç¤ºçš„demoï¼Œç¼–è¯‘åå°†ä¼šäº§ç”Ÿ5ä¸ªå†…éƒ¨ç±»å­—èŠ‚ç æ–‡ä»¶ï¼Œ
åˆ†åˆ«å¯¹åº”æˆå‘˜å˜é‡threadï¼Œé™æ€å˜é‡staticThreadï¼Œå†…éƒ¨ç±»InnerClassï¼Œmainæ–¹æ³•ä¸­çš„å±€éƒ¨åŒ¿åå†…éƒ¨ç±»localThreadï¼Œå®ä¾‹æ–¹æ³•outFä¸­çš„å±€éƒ¨åŒ¿åå†…éƒ¨ç±»innerClassã€‚</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kt">void</span> <span class="nf">outF</span><span class="o">(</span><span class="kt">int</span> <span class="n">arg1</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">InnerClass</span> <span class="n">innerClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InnerClass</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">arg1</span><span class="o">){</span>
            <span class="kd">final</span> <span class="cm">/* synthetic */</span> <span class="kt">int</span> <span class="n">val$arg1</span><span class="o">;</span>
            <span class="kd">final</span> <span class="cm">/* synthetic */</span> <span class="nc">TestAnonymousClass</span> <span class="k">this</span><span class="err">$</span><span class="mi">0</span><span class="o">;</span>
            <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">this</span><span class="err">$</span><span class="mi">0</span> <span class="o">=</span> <span class="n">testAnonymousClass</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">val</span><span class="n">$arg1</span> <span class="o">=</span> <span class="n">n</span><span class="o">;</span>
                <span class="kd">super</span><span class="o">(</span><span class="n">testAnonymousClass</span><span class="o">);</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kt">void</span> <span class="nf">innerF</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">val</span><span class="n">$arg1</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">TestAnonymousClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mo">000</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">this</span><span class="err">$</span><span class="mi">0</span><span class="o">));</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">TestAnonymousClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mi">100</span><span class="o">());</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">this</span><span class="err">$</span><span class="mi">0</span><span class="o">.</span><span class="na">publicValue</span><span class="o">);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">publicStaticValue</span><span class="o">);</span>
                <span class="nc">TestAnonymousClass</span><span class="o">.</span><span class="na">access</span><span class="err">$</span><span class="mi">200</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">this</span><span class="err">$</span><span class="mi">0</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">};</span>
    <span class="o">}</span></code></pre></figure>

<p>Â  Â  Â  Â æˆ‘ä»¬é‡ç‚¹çœ‹ä¸€ä¸‹ä¸Šè¿°åŒ¿åå†…éƒ¨ç±»çš„åç¼–è¯‘ä»£ç ã€‚threadå’ŒlocalThreadå±äºéé™æ€çš„åŒ¿åå†…éƒ¨ç±»ï¼ŒåŒæ ·ä¼šç»´æŠ¤ä¸€ä¸ªå¤–éƒ¨ç±»ç±»å‹çš„æˆå‘˜å˜é‡å¼•ç”¨å¤–éƒ¨ç±»çš„å®ä¾‹ã€‚
åŒ¿åå†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»çš„é€»è¾‘åŒæ™®é€šå†…éƒ¨ç±»ä¸€æ ·ï¼Œç›´æ¥è°ƒç”¨å…¬æœ‰å±æ€§æˆ–æ–¹æ³•ï¼Œè°ƒç”¨ç¼–è¯‘å™¨ç”Ÿæˆçš„åŒ…çº§å¯è§åŸŸæ–¹æ³•é—´æ¥è°ƒç”¨ç§æœ‰å±æ€§æˆ–æ–¹æ³•ã€‚</p>

<p>Â  Â  Â  Â åŒ¿åå†…éƒ¨ç±»ä¸æ™®é€šå†…éƒ¨ç±»æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼ŒåŒ¿åå†…éƒ¨ç±»å¯ä»¥è®¿é—®å±€éƒ¨å˜é‡å’Œå½¢å‚ï¼Œåœ¨JDK 1.8ä»¥å‰ï¼Œå¯¹å±€éƒ¨å˜é‡å’Œæ–¹æ³•å½¢å‚çš„è®¿é—®ï¼Œè¦æ±‚è¯¥å˜é‡å’Œå½¢å‚åŠ ä¸Šfinalä¿®é¥°ç¬¦ï¼ˆå½¢å‚ä¹Ÿå±äºå±€éƒ¨å˜é‡ï¼Œä»¥ä¸‹ç»Ÿç§°å±€éƒ¨å˜é‡ï¼‰ã€‚
æ–¹æ³•ç»“æŸä¹‹åï¼Œæ•´ä¸ªè™šæ‹Ÿæœºæ ˆåŒ…æ‹¬å±€éƒ¨å˜é‡åœ¨å†…ï¼Œéƒ½ä¼šè¢«é”€æ¯ï¼Œè€ŒåŒ¿åå†…éƒ¨ç±»å¯¹è±¡å’Œæ™®é€šç±»å¯¹è±¡ä¸€æ ·ï¼Œå›æ”¶çš„é€»è¾‘è§†åƒåœ¾å›æ”¶å™¨è€Œå®šã€‚è¿™å°±ä¼šå¯¼è‡´å½“åŒ¿åå†…éƒ¨ç±»å¯¹è±¡è¿˜æ²¡è¢«å›æ”¶æ—¶ï¼Œæ‰€å¼•ç”¨çš„æ•°æ®å·²ç»è¢«é”€æ¯äº†ï¼Œè¿™æ˜æ˜¾æ˜¯ä¸åˆç†çš„ã€‚
æ‰€ä»¥Javaåœ¨ç¼–è¯‘é˜¶æ®µï¼Œå°±æ˜ç¡®è¦æ±‚è¢«åŒ¿åå†…éƒ¨ç±»è®¿é—®çš„å±€éƒ¨å˜é‡æŒæœ‰finalä¿®é¥°ç¬¦ï¼ŒåŒæ—¶é€šè¿‡è¯­æ³•ç³–ï¼Œå°†è¯¥å˜é‡å¤åˆ¶æˆä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå¹¶é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ã€‚è¿™æ ·å¯ä»¥ä¿è¯å³ä½¿å±€éƒ¨å˜é‡è¢«é”€æ¯äº†ï¼ŒåŒ¿åå†…éƒ¨ç±»å¯¹è±¡ä¾ç„¶èƒ½å¤Ÿè®¿é—®ç›¸ç­‰çš„å€¼ã€‚</p>

<p>Â  Â  Â  Â åœ¨JDK 1.8ç‰ˆæœ¬ä¸­ï¼Œå¼•å…¥äº†â€effectively finalâ€œï¼Œåªè¦å±€éƒ¨å˜é‡åœ¨æ–¹æ³•ä½“å†…ä¸åšä¿®æ”¹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¯¹å±€éƒ¨å˜é‡å£°æ˜finalã€‚å½“ç„¶ï¼Œå¦‚æœå¯¹å±€éƒ¨å˜é‡æœ‰èµ‹å€¼è¯­å¥ï¼Œåˆ™ç¼–è¯‘æŠ¥é”™ï¼š</p>

<pre><code class="language-$xslt">Error:(64, 36) java: ä»å†…éƒ¨ç±»å¼•ç”¨çš„æœ¬åœ°å˜é‡å¿…é¡»æ˜¯æœ€ç»ˆå˜é‡æˆ–å®é™…ä¸Šçš„æœ€ç»ˆå˜é‡
</code></pre>

<h2 id="4æ€»ç»“">4.æ€»ç»“</h2>

<p><br /></p>
<ul>
  <li>
    <h4 id="å†…éƒ¨ç±»å­—èŠ‚ç å‘½åæ ¼å¼">å†…éƒ¨ç±»å­—èŠ‚ç å‘½åæ ¼å¼</h4>
  </li>
</ul>

<p>Â  Â  Â  Â ä¸ç®¡ä»€ä¹ˆç±»å‹çš„å†…éƒ¨ç±»ï¼Œéƒ½å’Œæ™®é€šç±»å¹¶æ— äºŒè‡´ã€‚ç¼–è¯‘å™¨ä¼šåœ¨å¤–éƒ¨ç±»å­—èŠ‚ç æ–‡ä»¶ç›¸åŒç›®å½•ä¸‹ï¼Œä¸ºå†…éƒ¨ç±»ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶ã€‚
æ™®é€šå†…éƒ¨ç±»çš„å­—èŠ‚ç æ–‡ä»¶å‘½åæ ¼å¼ä¸ºï¼šOuterClass$InnerClass.classï¼ŒåŒ¿åå†…éƒ¨ç±»çš„å‘½åæ–¹å¼ä¸ºï¼šOuterClass$index.classï¼Œå…¶ä¸­indexä¸ºåŒ¿åå†…éƒ¨ç±»åœ¨æºä»£ç ä¸­çš„é¡ºåºï¼Œå¦‚OuterClass$1.classã€‚</p>

<p><br /></p>
<ul>
  <li>
    <h4 id="å†…éƒ¨ç±»å¯¹å¤–éƒ¨ç±»çš„è®¿é—®">å†…éƒ¨ç±»å¯¹å¤–éƒ¨ç±»çš„è®¿é—®</h4>
  </li>
</ul>

<ol>
  <li>é™æ€å†…éƒ¨ç±»ä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„å…¬æœ‰æˆ–ç§æœ‰çš„é™æ€å±æ€§æˆ–æ–¹æ³•ã€‚</li>
  <li>éé™æ€å†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹ã€é™æ€å±æ€§å’Œæ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå†…éƒ¨ç±»ç”Ÿæˆä¸€ä¸ªå¼•ç”¨å¤–éƒ¨ç±»å®ä¾‹çš„å®ä¾‹å±æ€§ã€‚</li>
  <li>é™æ€å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»å…¬æœ‰å±æ€§æˆ–æ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨OuterClass.pubValueæˆ–è€…OuterClass.pubFuncå³å¯ã€‚è®¿é—®å¤–éƒ¨ç±»ç§æœ‰å±æ€§æˆ–æ–¹æ³•ï¼Œé€šè¿‡è°ƒç”¨ç¼–è¯‘å™¨ä¸ºå¤–éƒ¨ç±»ç”Ÿæˆçš„åŒ…çº§å¯è§åŸŸçš„æ–¹æ³•å³å¯ã€‚</li>
  <li>éé™æ€å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»å±æ€§æˆ–æ–¹æ³•çš„é€»è¾‘ä¸ç¬¬ä¸‰ç‚¹ç±»ä¼¼ã€‚</li>
  <li>é™¤ä¸Šè¿°é€»è¾‘ä¹‹å¤–ï¼ŒåŒ¿åå†…éƒ¨ç±»å¼•ç”¨çš„å±€éƒ¨å˜é‡ï¼Œéƒ½å¿…é¡»æ˜¯finalç±»å‹çš„ï¼ŒJDK 1.8ä¹‹å‰è¦æ±‚æ‰‹åŠ¨å£°æ˜finalï¼Œè‡ªJDK 1.8èµ·å¼•å…¥äº†â€effectively finalâ€œï¼Œä¸å†éœ€è¦æ‰‹åŠ¨å£°æ˜ã€‚</li>
</ol>

<p><br /></p>

<ul>
  <li>
    <h4 id="é™„ä»¶">é™„ä»¶</h4>
  </li>
</ul>

<p>Â  Â  Â  Â æœ¬åšæ–‡ä½¿ç”¨åˆ°çš„æºä»£ç <a href="https://github.com/leesir/blog_code/tree/master/src/innerclass">ç”±æ­¤è·å¾—</a>ã€‚</p>

<p><br /></p>

<h2 id="5å‚è€ƒæ–‡çŒ®">5.å‚è€ƒæ–‡çŒ®</h2>

<p>[1] Lee Benfield.<a href="http://www.benf.org/other/cfr/inner-class-fake-friends.html">Inner classes have to fake friendship</a>[EB/OL].http://www.benf.org/other/cfr/inner-class-fake-friends.htmlï¼Œ2019-06-18.<br />
[2] <a href="https://www.cnblogs.com/qingshanli/p/9375040.html">æµ…æjavaä¸­çš„è¯­æ³•ç³–</a>[EB/OL].https://www.cnblogs.com/qingshanli/p/9375040.htmlï¼Œ2019-06-18.<br /></p>
:ET